<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Transaction (Pravega API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transaction (Pravega API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.pravega.client.stream</a></div>
<h2 title="Interface Transaction" class="title">Interface Transaction&lt;Type&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Type</code> - The type of events in the associated stream.</dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">Transaction&lt;Type&gt;</span></pre>
<div class="block">Provides a mechanism for writing many events atomically.
 A Transaction is unbounded in size but is bounded in time. If it has not been committed within a time window
 specified  at the time of its creation it will be automatically aborted.
 
 All methods on this class may block.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Transaction.PingStatus.html" title="enum in io.pravega.client.stream">Transaction.PingStatus</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Transaction.Status.html" title="enum in io.pravega.client.stream">Transaction.Status</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#abort()">abort</a></span>()</code></th>
<td class="colLast">
<div class="block">Drops the transaction, causing all events written to it to be deleted.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="Transaction.Status.html" title="enum in io.pravega.client.stream">Transaction.Status</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkStatus()">checkStatus</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the status of the transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commit()">commit</a></span>()</code></th>
<td class="colLast">
<div class="block">Causes all messages previously written to the transaction to go into the stream contiguously.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commit(long)">commit</a></span>&#8203;(long&nbsp;timestamp)</code></th>
<td class="colLast">
<div class="block">Commits the transaction similar to <a href="#commit()"><code>commit()</code></a>, but also notes an associated timestamp.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#flush()">flush</a></span>()</code></th>
<td class="colLast">
<div class="block">Blocks until all events passed to <a href="#writeEvent(java.lang.String,Type)"><code>writeEvent(String, Object)</code></a> make it to durable storage.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTxnId()">getTxnId</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a unique ID that can be used to identify this transaction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeEvent(java.lang.String,Type)">writeEvent</a></span>&#8203;(java.lang.String&nbsp;routingKey,
          <a href="Transaction.html" title="type parameter in Transaction">Type</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Sends an event to the stream just like <a href="EventStreamWriter.html#writeEvent(Type)"><code>EventStreamWriter.writeEvent(Type)</code></a> but with the caveat that
 the message will not be visible to anyone until <a href="#commit()"><code>commit()</code></a> is called.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeEvent(Type)">writeEvent</a></span>&#8203;(<a href="Transaction.html" title="type parameter in Transaction">Type</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Sends an event to the stream just like <a href="EventStreamWriter.html#writeEvent(Type)"><code>EventStreamWriter.writeEvent(Type)</code></a> but with the caveat that
 the message will not be visible to anyone until <a href="#commit()"><code>commit()</code></a> is called.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getTxnId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxnId</h4>
<pre class="methodSignature">java.util.UUID&nbsp;getTxnId()</pre>
<div class="block">Returns a unique ID that can be used to identify this transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Unique identifier of the transaction</dd>
</dl>
</li>
</ul>
<a id="writeEvent(java.lang.Object)">
<!--   -->
</a><a id="writeEvent(Type)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvent</h4>
<pre class="methodSignature">void&nbsp;writeEvent&#8203;(<a href="Transaction.html" title="type parameter in Transaction">Type</a>&nbsp;event)
         throws <a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></pre>
<div class="block">Sends an event to the stream just like <a href="EventStreamWriter.html#writeEvent(Type)"><code>EventStreamWriter.writeEvent(Type)</code></a> but with the caveat that
 the message will not be visible to anyone until <a href="#commit()"><code>commit()</code></a> is called.

 A routing key will automatically be inferred from the transactionID.
 So all events written this way will be fully ordered and contiguous when read.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - The Event to write. (Null is disallowed)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a id="writeEvent(java.lang.String,java.lang.Object)">
<!--   -->
</a><a id="writeEvent(java.lang.String,Type)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvent</h4>
<pre class="methodSignature">void&nbsp;writeEvent&#8203;(java.lang.String&nbsp;routingKey,
                <a href="Transaction.html" title="type parameter in Transaction">Type</a>&nbsp;event)
         throws <a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></pre>
<div class="block">Sends an event to the stream just like <a href="EventStreamWriter.html#writeEvent(Type)"><code>EventStreamWriter.writeEvent(Type)</code></a> but with the caveat that
 the message will not be visible to anyone until <a href="#commit()"><code>commit()</code></a> is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routingKey</code> - The Routing Key to use for writing.</dd>
<dd><code>event</code> - The Event to write. (Null is disallowed)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a id="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre class="methodSignature">void&nbsp;flush()
    throws <a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></pre>
<div class="block">Blocks until all events passed to <a href="#writeEvent(java.lang.String,Type)"><code>writeEvent(String, Object)</code></a> make it to durable storage.
 This is only needed if the transaction is going to be serialized.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a id="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre class="methodSignature">void&nbsp;commit()
     throws <a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></pre>
<div class="block">Causes all messages previously written to the transaction to go into the stream contiguously.
 This operation will either fully succeed making all events consumable or fully fail such that none of them are.
 There may be some time delay before readers see the events after this call has returned.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a id="commit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre class="methodSignature">void&nbsp;commit&#8203;(long&nbsp;timestamp)
     throws <a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></pre>
<div class="block">Commits the transaction similar to <a href="#commit()"><code>commit()</code></a>, but also notes an associated timestamp.
 Similar to <a href="EventStreamWriter.html#noteTime(long)"><code>EventStreamWriter.noteTime(long)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestamp</code> - A timestamp associated with this transaction.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="TxnFailedException.html" title="class in io.pravega.client.stream">TxnFailedException</a></code> - The Transaction is no longer in state <a href="Transaction.Status.html#OPEN"><code>Transaction.Status.OPEN</code></a></dd>
</dl>
</li>
</ul>
<a id="abort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre class="methodSignature">void&nbsp;abort()</pre>
<div class="block">Drops the transaction, causing all events written to it to be deleted.</div>
</li>
</ul>
<a id="checkStatus()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkStatus</h4>
<pre class="methodSignature"><a href="Transaction.Status.html" title="enum in io.pravega.client.stream">Transaction.Status</a>&nbsp;checkStatus()</pre>
<div class="block">Gets the status of the transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Current status of the transaction</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
