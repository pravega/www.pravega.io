<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>EventStreamWriter (Pravega API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EventStreamWriter (Pravega API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.pravega.client.stream</a></div>
<h2 title="Interface EventStreamWriter" class="title">Interface EventStreamWriter&lt;Type&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Type</code> - The type of events that go in this stream</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">EventStreamWriter&lt;Type&gt;</span>
extends java.lang.AutoCloseable</pre>
<div class="block">A writer can write events to a stream.
 
 This class is safe to use across threads, but doing so will not increase performance.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Calls flush and then closes the writer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#flush()">flush</a></span>()</code></th>
<td class="colLast">
<div class="block">Block until all events that have been passed to writeEvent's corresponding futures have completed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="EventWriterConfig.html" title="class in io.pravega.client.stream">EventWriterConfig</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConfig()">getConfig</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the configuration that this writer was create with.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noteTime(long)">noteTime</a></span>&#8203;(long&nbsp;timestamp)</code></th>
<td class="colLast">
<div class="block">Notes a time that can be seen by readers which read from this stream by
 <a href="EventStreamReader.html#getCurrentTimeWindow(io.pravega.client.stream.Stream)"><code>EventStreamReader.getCurrentTimeWindow(Stream)</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeEvent(java.lang.String,Type)">writeEvent</a></span>&#8203;(java.lang.String&nbsp;routingKey,
          <a href="EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Write an event to the stream.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeEvent(Type)">writeEvent</a></span>&#8203;(<a href="EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Send an event to the stream.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeEvents(java.lang.String,java.util.List)">writeEvents</a></span>&#8203;(java.lang.String&nbsp;routingKey,
           java.util.List&lt;<a href="EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&gt;&nbsp;events)</code></th>
<td class="colLast">
<div class="block">Write an ordered list of events to the stream atomically for a given routing key.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="writeEvent(java.lang.Object)">
<!--   -->
</a><a id="writeEvent(Type)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvent</h4>
<pre class="methodSignature">java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;&nbsp;writeEvent&#8203;(<a href="EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&nbsp;event)</pre>
<div class="block">Send an event to the stream. Events that are written should appear in the stream exactly once. The
 maximum size of the serialized event supported is defined at <a href="Serializer.html#MAX_EVENT_SIZE"><code>Serializer.MAX_EVENT_SIZE</code></a>.

 Note that the implementation provides retry logic to handle connection failures and service host
 failures. Internal retries will not violate the exactly once semantic so it is better to rely on them
 than to wrap this with custom retry logic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - The event to be written to the stream (Null is disallowed)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completableFuture that will complete when the event has been durably stored on the configured
         number of replicas, and is available for readers to see. This future may complete exceptionally
         if this cannot happen, however these exceptions are not transient failures. Failures that occur
         as a result of connection drops or host death are handled internally with multiple retires and
         exponential backoff. So there is no need to attempt to retry in the event of an exception.</dd>
</dl>
</li>
</ul>
<a id="writeEvent(java.lang.String,java.lang.Object)">
<!--   -->
</a><a id="writeEvent(java.lang.String,Type)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvent</h4>
<pre class="methodSignature">java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;&nbsp;writeEvent&#8203;(java.lang.String&nbsp;routingKey,
                                                                  <a href="EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&nbsp;event)</pre>
<div class="block">Write an event to the stream. Similar to <a href="#writeEvent(Type)"><code>writeEvent(Object)</code></a> but provides a routingKey which is
 used to specify ordering. Events written with the same routing key will be read by readers in exactly
 the same order they were written. The maximum size of the serialized event supported is defined at
 <a href="Serializer.html#MAX_EVENT_SIZE"><code>Serializer.MAX_EVENT_SIZE</code></a>.

 Note that the implementation provides retry logic to handle connection failures and service
 host failures. Internal retries will not violate the exactly once semantic so it is better to
 rely on this than to wrap this method with custom retry logic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routingKey</code> - A free form string that is used to route messages to readers. Two events written with
        the same routingKey are guaranteed to be read in order. Two events with different routing keys
        may be read in parallel.</dd>
<dd><code>event</code> - The event to be written to the stream (Null is disallowed)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completableFuture that will complete when the event has been durably stored on the configured
         number of replicas, and is available for readers to see. This future may complete exceptionally
         if this cannot happen, however these exceptions are not transient failures. Failures that occur 
         as a result of connection drops or host death are handled internally with multiple retires and
         exponential backoff. So there is no need to attempt to retry in the event of an exception.</dd>
</dl>
</li>
</ul>
<a id="writeEvents(java.lang.String,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEvents</h4>
<pre class="methodSignature">java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;&nbsp;writeEvents&#8203;(java.lang.String&nbsp;routingKey,
                                                                   java.util.List&lt;<a href="EventStreamWriter.html" title="type parameter in EventStreamWriter">Type</a>&gt;&nbsp;events)</pre>
<div class="block">Write an ordered list of events to the stream atomically for a given routing key. 
 Events written with the same routing key will be read by readers in exactly the same order they were written. 
 The maximum size of the serialized event individually should be <a href="Serializer.html#MAX_EVENT_SIZE"><code>Serializer.MAX_EVENT_SIZE</code></a> and the 
 collective batch should be less than twice the <a href="Serializer.html#MAX_EVENT_SIZE"><code>Serializer.MAX_EVENT_SIZE</code></a>. 

 Note that the implementation provides retry logic to handle connection failures and service
 host failures. Internal retries will not violate the exactly once semantic so it is better to
 rely on this than to wrap this method with custom retry logic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routingKey</code> - A free form string that is used to route messages to readers. Two events written with
        the same routingKey are guaranteed to be read in order. Two events with different routing keys
        may be read in parallel.</dd>
<dd><code>events</code> - The batch of events to be written to the stream (Null is disallowed)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A completableFuture that will complete when the event has been durably stored on the configured
         number of replicas, and is available for readers to see. This future may complete exceptionally
         if this cannot happen, however these exceptions are not transient failures. Failures that occur 
         as a result of connection drops or host death are handled internally with multiple retires and
         exponential backoff. So there is no need to attempt to retry in the event of an exception.</dd>
</dl>
</li>
</ul>
<a id="noteTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteTime</h4>
<pre class="methodSignature">void&nbsp;noteTime&#8203;(long&nbsp;timestamp)</pre>
<div class="block">Notes a time that can be seen by readers which read from this stream by
 <a href="EventStreamReader.html#getCurrentTimeWindow(io.pravega.client.stream.Stream)"><code>EventStreamReader.getCurrentTimeWindow(Stream)</code></a>. The semantics or meaning of the timestamp
 is left to the application. Readers might expect timestamps to be monotonic. So this is
 recommended but not enforced.
 
 There is no requirement to call this method. Never doing so will result in readers invoking
 <a href="EventStreamReader.html#getCurrentTimeWindow(io.pravega.client.stream.Stream)"><code>EventStreamReader.getCurrentTimeWindow(Stream)</code></a> receiving a null for both upper and lower times.
 
 Calling this method can be automated by setting
 <a href="EventWriterConfig.EventWriterConfigBuilder.html#automaticallyNoteTime(boolean)"><code>EventWriterConfig.EventWriterConfigBuilder.automaticallyNoteTime(boolean)</code></a> to true when creating a
 writer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestamp</code> - a timestamp that represents the current location in the stream.</dd>
</dl>
</li>
</ul>
<a id="getConfig()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfig</h4>
<pre class="methodSignature"><a href="EventWriterConfig.html" title="class in io.pravega.client.stream">EventWriterConfig</a>&nbsp;getConfig()</pre>
<div class="block">Returns the configuration that this writer was create with.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Writer configuration</dd>
</dl>
</li>
</ul>
<a id="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre class="methodSignature">void&nbsp;flush()</pre>
<div class="block">Block until all events that have been passed to writeEvent's corresponding futures have completed.</div>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">void&nbsp;close()</pre>
<div class="block">Calls flush and then closes the writer. (No further methods may be called)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
